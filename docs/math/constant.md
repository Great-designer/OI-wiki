本文主要介绍 $\mathrm{e}$、$\pi$、$\mathrm{i}$ 等数学常数。

## 自然常数

又称自然对数的底。1690 年，莱布尼茨在信中第一次提到自然常数 $\mathrm{e}$。

自然常数有若干种相互等价的定义方法，以下定义方法完全等价。

### 极限的方法

一般在中学课本上会见到这个方法。对于下述极限：

$$
\mathrm{e}=\lim_{x\to\infty} {\left(1+\frac{1}{x}\right)}^x=\lim_{x\to\infty} {\left(1+\frac{1}{x}\right)}^{x+1}
$$

这两个极限无论在正无穷处还是负无穷处极限均为 $\mathrm{e}$，因此无需书写正负号。

### 级数的方法

下列级数给出定义：

$$
\mathrm{e}^x=\sum_{n=0}^\infty \frac{1}{n!}x^n
$$

常用 $x$ 取 $1$ 或 $-1$ 时得到的级数直接计算自然常数 $\mathrm{e}$。

### 积分的方法

以下积分构成一种对数运算：

$$
\int_1^x \frac{1}{t}\operatorname{d}t
$$

该对数的底数是自然常数 $\mathrm{e}$。

不难证明，以上三种定义完全等价。

作为数学常数出现时，自然常数在 LaTeX 里书写为正体 $\mathrm{e}$。

## 圆周率

圆周率是圆的周长与直径的比值，一般用希腊字母 $\pi$ 表示。圆周率有着漫长的历史，早在几千年前就已经被人类发现并研究。

最早圆周率作为一种几何的基本事实来认识，对圆周率的计算也是借助测量、几何学推导等方法进行。

直到微积分诞生后，圆周率的定义才逐渐有了较为简单的纯代数方法。下面是一种较为简单的圆周率定义方法。

### 积分的方法

对于反正切函数和反正弦函数，定义为积分：

$$
\arctan x=\int_0^x \frac{1}{1+t^2} \operatorname{d}t
$$

$$
\arcsin x=\int_0^x \frac{1}{\sqrt{1-t^2}} \operatorname{d}t
$$

### 级数的方法

对于反正切函数和反正弦函数，定义为级数：

$$
\arctan x=\sum_{n=0}^\infty {(-1)}^n \frac{x^{2n+1}}{2n+1}
$$

$$
\arcsin x=\sum_{n=0}^\infty \frac{(2n-1)!!}{(2n)!!}\frac{x^{2n+1}}{2n+1}=\sum_{n=0}^\infty \frac{C_{2n}^n}{(2n+1)2^{2n}}x^{2n+1}
$$

式中两个叹号连写表示双阶乘，奇数双阶乘和偶数双阶乘拥有不同的通式，偶数双阶乘可以直接改写为阶乘，奇数双阶乘需要补上偶数的一半才能改写为阶乘。

无论使用积分还是级数来定义，圆周率为这两个函数的各种特殊值：

$$
\lim_{x\to+\infty}\arctan x=\arcsin 1=\frac{\pi}{2}
$$

$$
\arctan \sqrt{3}=\arcsin \frac{\sqrt{3}}{2}=\frac{\pi}{3}
$$

$$
\arctan 1=\arcsin \frac{\sqrt{2}}{2}=\frac{\pi}{4}
$$

$$
\arctan \frac{\sqrt{3}}{3}=\arcsin \frac{1}{2}=\frac{\pi}{6}
$$

### $\pi$ 和 $\tau$ 两个数学常数

目前西方数学界有一些观点认为，“真正的圆周率”应为 $2\pi$，将这个值记为希腊字母 $\tau$。新圆周率的支持者们选择在 6 月 28 日庆祝“真正的”圆周率日。

比如，在弧度制下，一个周角是 $2\pi$，直接对 $2\pi$ 进行等分可以得到周角的等分。又例如，在复变函数中频繁出现 $2\pi$ 的组合，等等。

为了迎合中国各地区约定俗成的习惯，在 OI Wiki，采用参数 $\pi$ 表示圆周率。

### 圆周率的习惯写法

一般在 C 语言中取 $\pi$ 为 `acos(-1)`，只有这个值是最接近 $\pi$ 的浮点数。使用 `acos(-1)` 或者 `4*atan(1)` 写出来的 $\pi$ 是 $3.14159265358979310000$。

采用其他值，例如 `acos(-1.0/2.0)`，`acos(1.0/2.0)`，`asin(1.0/2.0)` 等等，写出来的 $\pi$ 是 $3.14159265358979360000$，这就不是最接近 $\pi$ 的浮点数了。

更多内容见弧度制与坐标系一文。

## 虚数单位

见复数一文。

作为数学常数出现时，虚数单位在 LaTeX 里书写为正体 $\mathrm{i}$。

## 欧拉常数

欧拉常数又称欧拉马歇罗尼常数，一般用希腊字母 $\gamma$ 表示，最早在 1735 年由欧拉发现。1790 年意大利数学家马歇罗尼（Lorenzo Mascheroni）将该常数计算到小数点后 32 位，但他的计算在第 20 位往后出现了错误。

欧拉常数的定义是调和级数与自然对数的差值的极限：

$$
\gamma=\lim_{n\to+\infty}\left(\left(\sum_{k=1}^n\frac{1}{k}\right)-\ln n\right)=\int_{1}^{+\infty}\left(\frac{1}{\lfloor x\rfloor}-\frac{1}{x}\right)\operatorname{d}x
$$

## C++ 中的数学常数

在旧版本中的 C++，数学常数均需要自行定义，直到 C++20 引入了 `<numbers>` 头文件。

虽然目前算法竞赛领域普遍支持的版本是 C++14，但是迟早有一天算法竞赛的支持版本会到达 C++20，也许在不算太遥远的未来，介绍 `<numbers>` 头文件是必需的。

以下内置常数均为 `inline constexpr double` 类型，均为与相应无理数最接近的浮点数。

### 由开方运算引入的常数

这部分数学常数均由有理数进行开方运算得到，总共有 $4$ 个，分别为：

- `sqrt2`，$\sqrt{2}$。
- `sqrt3`，$\sqrt{3}$。
- `inv_sqrt3`，$\frac{1}{\sqrt{3}}$。
- `phi`，黄金比常数 $\Phi$，$\frac{1+\sqrt{5}}{2}$。

黄金比常数 $\Phi$ 是指，将一个长度分割成大小两段，如果小段与大段的长度之比等于大段的长度与全长之比，那么这一比值称为黄金比或黄金分割。这里的值约为 $1.6180339887$。

### 自然常数及其衍生

这部分数学常数是自然常数及其衍生，总共有 5 个。

- `e`，自然常数 $\mathrm{e}$。
- `log2e`，$\log_2 \mathrm{e}$。
- `log10e`，$\log_{10} \mathrm{e}$。
- `ln2`，$\ln 2$。
- `ln10`，$\ln 10$。

四个对数值可以用于换底操作。

### 圆周率及其衍生

这部分数学常数是圆周率及其衍生，总共有 3 个。

- `pi`，$\pi$。
- `inv_pi`，$\frac{1}{\pi}$。
- `inv_sqrtpi`，$\frac{1}{\sqrt{\pi}}$。

### 欧拉常数

还有一个内置数学常数是欧拉常数 $\gamma$，记作 `egamma`。
